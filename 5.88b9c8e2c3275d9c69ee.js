(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{ZKQi:function(t,e,n){"use strict";n.r(e),n.d(e,"FygoDashboardModule",function(){return gt});var i=n("ofXK"),o=n("fXoL"),s=n("tyNb"),r=n("SyC3"),c=n("sdhp");const a=function(t){return{"nav-active":t}};var l=function(t){return t[t.Merchants=0]="Merchants",t[t.Transactions=1]="Transactions",t}({});let h=(()=>{class t{constructor(t){this.router=t,this.activeTab=l.Merchants,this.ActiveDashboardTab=l}goToMerchants(){this.activeTab!==l.Merchants&&(this.activeTab=l.Merchants,this.router.navigate(["dashboard","merchants"]))}goToTransactions(){this.activeTab!==l.Transactions&&(this.activeTab=l.Transactions,this.router.navigate(["dashboard","transactions"]))}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(s.b))},t.\u0275cmp=o.Cb({type:t,selectors:[["fygo-dashboard"]],decls:9,vars:7,consts:[[3,"title"],[1,"dashboard-nav"],[1,"fygo-button","nav-button",3,"ngClass","click"],[1,"dashboard-container"]],template:function(t,e){1&t&&(o.Jb(0,"fygo-header",0),o.Lb(1,"div",1),o.Lb(2,"button",2),o.Rb("click",function(){return e.goToMerchants()}),o.dc(3," Merchants "),o.Kb(),o.Lb(4,"button",2),o.Rb("click",function(){return e.goToTransactions()}),o.dc(5," Transactions "),o.Kb(),o.Kb(),o.Lb(6,"div",3),o.Jb(7,"router-outlet"),o.Kb(),o.Jb(8,"fygo-footer")),2&t&&(o.Wb("title","Dashboard"),o.yb(2),o.Wb("ngClass",o.Xb(3,a,e.activeTab===e.ActiveDashboardTab.Merchants)),o.yb(2),o.Wb("ngClass",o.Xb(5,a,e.activeTab===e.ActiveDashboardTab.Transactions)))},directives:[r.a,i.i,s.d,c.a],styles:[".dashboard-nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-bottom:20px;font-size:18px;font-weight:600}.dashboard-nav[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]{width:100%;max-width:150px;text-align:center;border-right:2px solid var(--default-color)}.dashboard-nav[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]:last-child{border:none}.dashboard-nav[_ngcontent-%COMP%]   .nav-button.nav-active[_ngcontent-%COMP%]{color:var(--highlight-color)}.dashboard-nav[_ngcontent-%COMP%]   .nav-button.nav-active[_ngcontent-%COMP%]:hover{cursor:default}.dashboard-container[_ngcontent-%COMP%]{border:1px solid var(--border-color);max-width:800px;margin:auto;height:400px}"]}),t})();var d=n("LRne"),u=n("HDdC"),g=n("DH7j"),f=n("n6bG"),b=n("lJxs");function p(t,e,n,i){return Object(f.a)(n)&&(i=n,n=void 0),i?p(t,e,n).pipe(Object(b.a)(t=>Object(g.a)(t)?i(...t):i(t))):new u.a(i=>{m(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function m(t,e,n,i,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const i=t;t.addEventListener(e,n,o),s=()=>i.removeEventListener(e,n,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const i=t;t.on(e,n),s=()=>i.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const i=t;t.addListener(e,n),s=()=>i.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,r=t.length;s<r;s++)m(t[s],e,n,i,o)}i.add(s)}var v=n("5+tZ"),C=n("vkgz"),w=n("pLZG"),y=n("7o/Q"),O=n("quSY");class P extends O.a{constructor(t,e){super()}schedule(t,e=0){return this}}class M extends P{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,i=!1;try{this.work(t)}catch(o){i=!0,n=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let _=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class x extends _{constructor(t,e=_.now){super(t,()=>x.delegate&&x.delegate!==this?x.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return x.delegate&&x.delegate!==this?x.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const S=new x(M);n("zx2A");const T={leading:!0,trailing:!1};class K{constructor(t,e,n,i){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=i}call(t,e){return e.subscribe(new L(t,this.duration,this.scheduler,this.leading,this.trailing))}}class L extends y.a{constructor(t,e,n,i,o){super(t),this.duration=e,this.scheduler=n,this.leading=i,this.trailing=o,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(k,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function k(t){const{subscriber:e}=t;e.clearThrottle()}function D(t,e,n,i){const o=window&&!!window.document&&window.document.documentElement;let s=o&&e?window:n;if(t&&(s=t&&o&&"string"==typeof t?function(t,e,n){return(n?window.document:e).querySelector(t)}(t,n.nativeElement,i):t,!s))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return s}function W(t){return t&&!t.firstChange}const I={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},A={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class j{constructor(t=!0){this.vertical=t,this.propsMap=t?I:A}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function H(t){return["Window","global"].some(e=>Object.prototype.toString.call(t).includes(e))}function E(t,e){return t?e.document.documentElement:null}function R(t,e){const n=function({container:t,isWindow:e,axis:n}){const{offsetHeightKey:i,clientHeightKey:o}=F(n);return z(t,e,i,o)}(e);return e.isWindow?function(t,e,n){const{axis:i,container:o,isWindow:s}=n,{offsetHeightKey:r,clientHeightKey:c}=F(i),a=t+V(E(s,o),i,s),l=z(e.nativeElement,s,r,c);return{height:t,scrolled:a,totalToScroll:function(t,e,n){const i=e.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[i]+V(t,e,n)}(e.nativeElement,i,s)+l,isWindow:s}}(n,t,e):function(t,e,n){const{axis:i,container:o}=n;return{height:t,scrolled:o[i.scrollTopKey()],totalToScroll:o[i.scrollHeightKey()],isWindow:!1}}(n,0,e)}function F(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function z(t,e,n,i){if(isNaN(t[n])){const n=E(e,t);return n?n[i]:0}return t[n]}function V(t,e,n){const i=e.pageYOffsetKey(),o=e.scrollTopKey(),s=e.offsetTopKey();return isNaN(window.pageYOffset)?E(n,t)[o]:t.ownerDocument?t.ownerDocument.defaultView[i]:t[s]}function U(t,e,n){let i,o;if(t.totalToScroll<=0)return!1;const s=t.isWindow?t.scrolled:t.height+t.scrolled;return n?(i=(t.totalToScroll-s)/t.totalToScroll,o=e.down/10):(i=t.scrolled/(t.scrolled+(t.totalToScroll-s)),o=e.up/10),i<=o}class J{constructor({totalToScroll:t}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=t}updateScrollPosition(t){return this.lastScrollPosition=t}updateTotalToScroll(t){this.lastTotalToScroll!==t&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=t)}updateScroll(t,e){this.updateScrollPosition(t),this.updateTotalToScroll(e)}updateTriggeredFlag(t,e){e?this.triggered.down=t:this.triggered.up=t}isTriggeredScroll(t,e){return e?this.triggered.down===t:this.triggered.up===t}}const N="[NGX_ISE] DOWN",Y="[NGX_ISE] UP";function X(t){const{scrollDown:e,stats:{scrolled:n}}=t;return{type:e?N:Y,payload:{currentScrollPosition:n}}}let G=(()=>{class t{constructor(t,e){this.element=t,this.zone=e,this.scrolled=new o.n,this.scrolledUp=new o.n,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:t,infiniteScrollDisabled:e,infiniteScrollDistance:n}){const i=W(t),o=W(e),s=W(n),r=!o&&!this.infiniteScrollDisabled||o&&!e.currentValue||s;(i||o||s)&&(this.destroyScroller(),r&&this.setup())}setup(){"undefined"!=typeof window&&this.zone.runOutsideAngular(()=>{this.disposeScroller=function(t){const{scrollContainer:e,scrollWindow:n,element:i,fromRoot:o}=t,s=function({windowElement:t,axis:e}){return function(t,e){const n=t.isWindow||e&&!e.nativeElement?e:e.nativeElement;return Object.assign(Object.assign({},t),{container:n})}({axis:e,isWindow:H(t)},t)}({axis:new j(!t.horizontal),windowElement:D(e,n,i,o)}),r=new J({totalToScroll:R(i,s)}),c={up:t.upDistance,down:t.downDistance};return function(t){let e=p(t.container,"scroll");return t.throttle&&(e=e.pipe(function(t,e=S,n=T){return i=>i.lift(new K(t,e,n.leading,n.trailing))}(t.throttle))),e}({container:s.container,throttle:t.throttle}).pipe(Object(v.a)(()=>Object(d.a)(R(i,s))),Object(b.a)(t=>function(t,e,n){const{scrollDown:i,fire:o}=function(t,e,n){const i=function(t,e){return t<e.scrolled}(t,e);return{fire:U(e,n,i),scrollDown:i}}(t,e,n);return{scrollDown:i,fire:o,stats:e}}(r.lastScrollPosition,t,c)),Object(C.a)(({stats:t})=>r.updateScroll(t.scrolled,t.totalToScroll)),Object(w.a)(({fire:e,scrollDown:n,stats:{totalToScroll:i}})=>function(t,e,n){return!(!t||!e)||!(n||!e)}(t.alwaysCallback,e,r.isTriggeredScroll(i,n))),Object(C.a)(({scrollDown:t,stats:{totalToScroll:e}})=>{r.updateTriggeredFlag(e,t)}),Object(b.a)(X))}({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(t=>this.zone.run(()=>this.handleOnScroll(t)))})}handleOnScroll({type:t,payload:e}){switch(t){case N:return this.scrolled.emit(e);case Y:return this.scrolledUp.emit(e);default:return}}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(o.l),o.Ib(o.A))},t.\u0275dir=o.Db({type:t,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[o.wb]}),t})(),q=(()=>{class t{}return t.\u0275mod=o.Gb({type:t}),t.\u0275inj=o.Fb({factory:function(e){return new(e||t)},providers:[],imports:[[]]}),t})();var Z=n("gl3t"),$=n("IheW");let B=(()=>{class t{constructor(t){this.httpClient=t}getMerchant(t){return this.httpClient.get(`https://october-11.herokuapp.com/api/v1/merchants/${t}/`)}getFirstPage(){return this.httpClient.get("https://october-11.herokuapp.com/api/v1/merchants/?page=1")}getAPage(t){return this.httpClient.get(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Ob($.b))},t.\u0275prov=o.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Q=(()=>{class t{constructor(t){this.router=t}openMerchant(){this.router.navigate(["dashboard","merchant",this.merchant.id])}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(s.b))},t.\u0275cmp=o.Cb({type:t,selectors:[["fygo-merchant-item"]],inputs:{merchant:"merchant"},decls:13,vars:3,consts:[[1,"list-item",3,"click"],[1,"icon"],["src","assets/images/merchant-placeholder.svg"],[1,"data","main"],[1,"title"],[1,"subtitle"],[1,"data"]],template:function(t,e){1&t&&(o.Lb(0,"div",0),o.Rb("click",function(){return e.openMerchant()}),o.Lb(1,"div",1),o.Jb(2,"img",2),o.Kb(),o.Lb(3,"div",3),o.Lb(4,"div",4),o.dc(5),o.Kb(),o.Lb(6,"div",5),o.dc(7),o.Kb(),o.Kb(),o.Lb(8,"div",6),o.Lb(9,"div",4),o.dc(10),o.Kb(),o.Lb(11,"div",5),o.dc(12,"Cashback"),o.Kb(),o.Kb(),o.Kb()),2&t&&(o.yb(5),o.fc(" ",e.merchant.name," "),o.yb(2),o.fc(" ",e.merchant.description," "),o.yb(3),o.fc("",e.merchant.cashback,"\xa0\xa3"))},styles:["[_nghost-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:45px;padding:5px 5px 15px;border-bottom:1px solid var(--border-color)}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]:hover{background:var(--default-high-bgd)}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%]{color:var(--highlight-color)}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;flex-shrink:0;width:35px}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly;margin-left:20px}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .data.main[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;font-weight:700}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:12px;opacity:.7}@media only screen and (max-width:450px){[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{display:none}}"]}),t})();function tt(t,e){1&t&&o.Jb(0,"fygo-merchant-item",2),2&t&&o.Wb("merchant",e.$implicit)}let et=(()=>{class t{constructor(t,e){this.activatedRoute=t,this.merchantApiService=e,this.merchants=[]}ngOnInit(){this.activatedRoute.data.subscribe(t=>this.loadPage(t.merchantsFirstPage))}onScroll(){this.lastPage&&this.lastPage.next&&this.loadNextPage()}loadPage(t){this.lastPage=t,this.merchants.push(...t.results)}loadNextPage(){this.merchantApiService.getAPage(this.lastPage.next).subscribe(t=>this.loadPage(t))}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(s.a),o.Ib(B))},t.\u0275cmp=o.Cb({type:t,selectors:[["fygo-merchant-list"]],decls:3,vars:5,consts:[["infiniteScroll","",1,"list-container",3,"infiniteScrollDistance","infiniteScrollUpDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[3,"merchant",4,"ngFor","ngForOf"],[3,"merchant"]],template:function(t,e){1&t&&(o.Lb(0,"div"),o.Lb(1,"div",0),o.Rb("scrolled",function(){return e.onScroll()}),o.cc(2,tt,1,1,"fygo-merchant-item",1),o.Kb(),o.Kb()),2&t&&(o.yb(1),o.Wb("infiniteScrollDistance",2)("infiniteScrollUpDistance",1.5)("infiniteScrollThrottle",50)("scrollWindow",!1),o.yb(1),o.Wb("ngForOf",e.merchants))},directives:[G,i.j,Q],styles:[".list-container[_ngcontent-%COMP%]{height:400px;overflow-y:scroll}"]}),t})(),nt=(()=>{class t{constructor(t){this.httpClient=t}getFirstPage(){return this.httpClient.get("https://october-11.herokuapp.com/api/v1/transactions/?page=1")}getAPage(t){return this.httpClient.get(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Ob($.b))},t.\u0275prov=o.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const it=function(t){return{"not-clickable":t}},ot=function(t,e){return{cashback:t,withdrawal:e}};let st=(()=>{class t{constructor(t){this.router=t}get createdDate(){return new Date(this.transaction.created)}get isCashback(){return+this.transaction.amount>0}openMerchant(){this.isCashback&&(null!==this.transaction.merchant_id?this.router.navigate(["dashboard","merchant",this.transaction.merchant_id]):window.alert("Sorry, that merchant is gone :("))}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(s.b))},t.\u0275cmp=o.Cb({type:t,selectors:[["fygo-transaction-item"]],inputs:{transaction:"transaction"},decls:14,vars:13,consts:[[1,"list-item",3,"ngClass","click"],[1,"icon"],["src","assets/images/trx-placeholder.svg"],[1,"data","main"],[1,"title"],[1,"subtitle"],[1,"data"],[1,"title",3,"ngClass"]],template:function(t,e){1&t&&(o.Lb(0,"div",0),o.Rb("click",function(){return e.openMerchant()}),o.Lb(1,"div",1),o.Jb(2,"img",2),o.Kb(),o.Lb(3,"div",3),o.Lb(4,"div",4),o.dc(5),o.Kb(),o.Lb(6,"div",5),o.dc(7),o.Ub(8,"date"),o.Kb(),o.Kb(),o.Lb(9,"div",6),o.Lb(10,"div",7),o.dc(11),o.Kb(),o.Lb(12,"div",5),o.dc(13,"Cashback"),o.Kb(),o.Kb(),o.Kb()),2&t&&(o.Wb("ngClass",o.Xb(8,it,!e.isCashback)),o.yb(5),o.fc(" ",e.transaction.title," "),o.yb(2),o.fc(" ",o.Vb(8,5,e.transaction.created,"medium")," "),o.yb(3),o.Wb("ngClass",o.Yb(10,ot,e.isCashback,!e.isCashback)),o.yb(1),o.fc("",e.transaction.amount,"\xa0\xa3"))},directives:[i.i],pipes:[i.d],styles:["[_nghost-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:45px;padding:5px 5px 15px;border-bottom:1px solid var(--border-color)}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]:hover{background:var(--default-high-bgd)}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%]{color:var(--highlight-color)}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;flex-shrink:0;width:35px}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly;margin-left:20px}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .data.main[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;font-weight:700}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:12px;opacity:.7}@media only screen and (max-width:450px){[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{display:none}}.list-item.not-clickable[_ngcontent-%COMP%]:hover{cursor:default}.list-item[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .title.cashback[_ngcontent-%COMP%]{color:var(--cashback-color)}.list-item[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .title.withdrawal[_ngcontent-%COMP%]{color:var(--withdrawal-color)}"]}),t})();function rt(t,e){1&t&&o.Jb(0,"fygo-transaction-item",2),2&t&&o.Wb("transaction",e.$implicit)}let ct=(()=>{class t{constructor(t,e){this.activatedRoute=t,this.transactionApiService=e,this.transactions=[]}ngOnInit(){this.activatedRoute.data.subscribe(t=>this.loadPage(t.transactionsFirstPage))}onScroll(){this.lastPage&&this.lastPage.next&&this.loadNextPage()}loadPage(t){this.lastPage=t,this.transactions.push(...t.results)}loadNextPage(){this.transactionApiService.getAPage(this.lastPage.next).subscribe(t=>this.loadPage(t))}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(s.a),o.Ib(nt))},t.\u0275cmp=o.Cb({type:t,selectors:[["fygo-transactions-list"]],decls:3,vars:5,consts:[["infiniteScroll","",1,"list-container",3,"infiniteScrollDistance","infiniteScrollUpDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[3,"transaction",4,"ngFor","ngForOf"],[3,"transaction"]],template:function(t,e){1&t&&(o.Lb(0,"div"),o.Lb(1,"div",0),o.Rb("scrolled",function(){return e.onScroll()}),o.cc(2,rt,1,1,"fygo-transaction-item",1),o.Kb(),o.Kb()),2&t&&(o.yb(1),o.Wb("infiniteScrollDistance",2)("infiniteScrollUpDistance",1.5)("infiniteScrollThrottle",50)("scrollWindow",!1),o.yb(1),o.Wb("ngForOf",e.transactions))},directives:[G,i.j,st],styles:[".list-container[_ngcontent-%COMP%]{height:400px;overflow-y:scroll}"]}),t})(),at=(()=>{class t{constructor(t){this.merchantApiService=t}resolve(){return this.merchantApiService.getFirstPage()}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(B))},t.\u0275prov=o.Eb({token:t,factory:t.\u0275fac}),t})(),lt=(()=>{class t{constructor(t){this.transactionApiService=t}resolve(){return this.transactionApiService.getFirstPage()}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(nt))},t.\u0275prov=o.Eb({token:t,factory:t.\u0275fac}),t})(),ht=(()=>{class t{constructor(t,e){this.activatedRoute=t,this.location=e}ngOnInit(){this.activatedRoute.data.subscribe(t=>this.merchant=t.merchant)}exit(){this.location.back()}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(s.a),o.Ib(i.g))},t.\u0275cmp=o.Cb({type:t,selectors:[["fygo-merchant"]],decls:29,vars:5,consts:[[1,"merchant-details"],[1,"exit-button",3,"click"],["src","assets/images/close-icon.svg"],[1,"title"],[1,"icon"],["src","assets/images/merchant-placeholder.svg"],[1,"name"],[1,"data"],[1,"data-row"],[1,"data-row-title"],[1,"data-row-info"]],template:function(t,e){1&t&&(o.Lb(0,"div",0),o.Lb(1,"div",1),o.Rb("click",function(){return e.exit()}),o.Jb(2,"img",2),o.Kb(),o.Lb(3,"div",3),o.Lb(4,"div",4),o.Jb(5,"img",5),o.Kb(),o.Lb(6,"div",6),o.dc(7),o.Kb(),o.Kb(),o.Lb(8,"div",7),o.Lb(9,"div",8),o.Lb(10,"span",9),o.dc(11,"id:"),o.Kb(),o.Lb(12,"span",10),o.dc(13),o.Kb(),o.Kb(),o.Lb(14,"div",8),o.Lb(15,"span",9),o.dc(16,"name:"),o.Kb(),o.Lb(17,"span",10),o.dc(18),o.Kb(),o.Kb(),o.Lb(19,"div",8),o.Lb(20,"span",9),o.dc(21,"cashback:"),o.Kb(),o.Lb(22,"span",10),o.dc(23),o.Kb(),o.Kb(),o.Lb(24,"div",8),o.Lb(25,"span",9),o.dc(26,"description:"),o.Kb(),o.Lb(27,"span",10),o.dc(28),o.Kb(),o.Kb(),o.Kb(),o.Kb()),2&t&&(o.yb(7),o.fc(" ",e.merchant.name," "),o.yb(6),o.ec(e.merchant.id),o.yb(5),o.ec(e.merchant.name),o.yb(5),o.fc("",e.merchant.cashback,"\xa0\xa3"),o.yb(5),o.ec(e.merchant.description))},styles:[".merchant-details[_ngcontent-%COMP%]{height:400px;display:flex;flex-direction:column;justify-content:flex-start;position:relative;padding:40px}.merchant-details[_ngcontent-%COMP%]   .exit-button[_ngcontent-%COMP%]{position:absolute;top:40px;right:40px;height:30px;width:30px}.merchant-details[_ngcontent-%COMP%]   .exit-button[_ngcontent-%COMP%]:hover{cursor:pointer}.merchant-details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.merchant-details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:50px}.merchant-details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:center;margin-left:20px;font-size:20px;font-weight:600}.merchant-details[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;margin:20px 0}.merchant-details[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-bottom:10px}.merchant-details[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]   .data-row-title[_ngcontent-%COMP%]{width:100px;flex-shrink:0;opacity:.7}.merchant-details[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]   .data-row-info[_ngcontent-%COMP%]{flex-grow:3;font-weight:500}"]}),t})(),dt=(()=>{class t{constructor(t){this.merchantApiService=t}resolve(t,e){return this.merchantApiService.getMerchant(t.params.merchantId)}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(B))},t.\u0275prov=o.Eb({token:t,factory:t.\u0275fac}),t})();const ut=[{path:"",component:h,children:[{path:"",pathMatch:"full",redirectTo:"merchants"},{path:"merchants",component:et,resolve:{merchantsFirstPage:at}},{path:"transactions",component:ct,resolve:{transactionsFirstPage:lt}},{path:"merchant/:merchantId",component:ht,resolve:{merchant:dt}}]}];let gt=(()=>{class t{}return t.\u0275mod=o.Gb({type:t}),t.\u0275inj=o.Fb({factory:function(e){return new(e||t)},providers:[dt,at,lt],imports:[[i.b,s.c.forChild(ut),q,Z.a]]}),t})()}}]);